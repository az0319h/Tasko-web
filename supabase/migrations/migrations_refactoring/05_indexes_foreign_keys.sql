-- ============================================================================
-- Phase 1: Task 5-1 - 인덱스 및 외래키 정리
-- ============================================================================
-- 목적: 불필요한 인덱스 제거 및 새로운 인덱스 추가
-- 
-- 작업 내용:
-- 1. created_by 인덱스 추가 (성능 최적화)
-- 2. client_name 인덱스 추가 (검색 성능 최적화)
-- 참고: project_id 관련 인덱스는 이미 02_02_remove_project_id.sql에서 제거됨
-- ============================================================================

BEGIN;

-- ----------------------------------------------------------------------------
-- 1. created_by 인덱스 추가
-- ----------------------------------------------------------------------------

CREATE INDEX IF NOT EXISTS idx_tasks_created_by 
ON public.tasks(created_by);

COMMENT ON INDEX idx_tasks_created_by IS 
'태스크 생성자 인덱스: created_by 컬럼 조회 성능 최적화';

-- ----------------------------------------------------------------------------
-- 2. client_name 인덱스 추가
-- ----------------------------------------------------------------------------

CREATE INDEX IF NOT EXISTS idx_tasks_client_name 
ON public.tasks(client_name);

COMMENT ON INDEX idx_tasks_client_name IS 
'고객명 인덱스: client_name 컬럼 검색 성능 최적화';

COMMIT;
